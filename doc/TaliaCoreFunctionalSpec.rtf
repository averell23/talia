{\rtf1\mac\ansicpg10000\uc1\deff0\stshfdbch0\stshfloch0\stshfhich0\stshfbi0\deflang1031\deflangfe1031{\upr{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman;}{\f1\fnil\fcharset256\fprq2{\*\panose 00020b06040202020202}Arial;}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f3\fnil\fcharset2\fprq2{\*\panose 00020005000000000000}Symbol;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f14\fnil\fcharset2\fprq2{\*\panose 00050201020108040807}Wingdings;}{\f24\fnil\fcharset256\fprq0{\*\panose 00000000000000000000}StarSymbol{\*\falt ______ Pro W3};}{\f25\fnil\fcharset256\fprq0{\*\panose 00000000000000000000}CMR12{\*\falt Times New Roman};}}{\*\ud{\fonttbl{\f0\fnil\fcharset256\fprq2{\*\panose 00020206030504050203}Times New Roman;}{\f1\fnil\fcharset256\fprq2{\*\panose 00020b06040202020202}Arial;}{\f2\fnil\fcharset256\fprq2{\*\panose 00020703090202050204}Courier New;}{\f3\fnil\fcharset2\fprq2{\*\panose 00020005000000000000}Symbol;}{\f5\fnil\fcharset256\fprq2{\*\panose 00020005000000000000}Helvetica;}{\f14\fnil\fcharset2\fprq2{\*\panose 00050201020108040807}Wingdings;}{\f24\fnil\fcharset256\fprq0{\*\panose 00000000000000000000}StarSymbol{\*\falt \u12498 _\u12521 _\u12462 _\u12494 _\u-30254 _\u12468 _ Pro W3};}{\f25\fnil\fcharset256\fprq0{\*\panose 00000000000000000000}CMR12{\*\falt Times New Roman};}}}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \snext0 Normal;}{\s1\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel0\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon16 \snext15 heading 1;}{\s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon16 \snext15 heading 2;}{\s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon16 \snext15 heading 3;}{\*\cs10 \additive Default Paragraph Font;}{\*\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\trcbpat1\trcfpat1\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\cgrid\langnp1024\langfenp1024 \snext11 Normal Table;}{\s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon0 \snext15 Body Text;}{\s16\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\rin0\lin0\itap0 \f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon0 \snext15 Heading;}{\s17\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon15 \snext17 List;}{\s18\ql \li0\ri0\sb120\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \i\f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon0 \snext18 caption;}{\s19\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon0 \snext19 Index;}{\s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 \sbasedon15 \snext20 Code;}{\*\cs21 \additive \f24\fs18\lang2057\langfe0\langnp2057 Bullet Symbols;}{\*\cs22 \additive \f2\lang2057\langfe0\langnp2057 Source Text;}}{\*\listtable{\list\listtemplateid-2072103970{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'00;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi0\li0\jclisttab\tx0\lin0 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1080\jclisttab\tx720\lin1080 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1800\jclisttab\tx1440\lin1800 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2520\jclisttab\tx2160\lin2520 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3846 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3240\jclisttab\tx2880\lin3240 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3960\jclisttab\tx3600\lin3960 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4680\jclisttab\tx4320\lin4680 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5400\jclisttab\tx5040\lin5400 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3846 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li6120\jclisttab\tx5760\lin6120 }{\listname ;}\listid-227}{\list\listtemplateid2026137330\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1492\jclisttab\tx1492\lin1492 }{\listname ;}\listid-128}{\list\listtemplateid-299750072\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1209\jclisttab\tx1209\lin1209 }{\listname ;}\listid-127}{\list\listtemplateid100548646\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li926\jclisttab\tx926\lin926 }{\listname ;}\listid-126}{\list\listtemplateid1{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9679 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9675 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li1080\lin1080 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9632 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9679 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li1800\lin1800 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9675 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9632 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li2520\lin2520 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9679 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9675 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li3240\lin3240 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u9632 _;}{\levelnumbers;}\f24\fs18\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1 \fi-360\li3600\lin3600 }{\listname ;}\listid1}{\list\listtemplateid-358817638\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid72552234}{\list\listtemplateid649261012\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid983970572}{\list\listtemplateid60703910\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li720\jclisttab\tx720\lin720 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li1440\jclisttab\tx1440\lin1440 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2160\jclisttab\tx2160\lin2160 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li2880\jclisttab\tx2880\lin2880 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li3600\jclisttab\tx3600\lin3600 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li4320\jclisttab\tx4320\lin4320 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567617\'01\u-3913 _;}{\levelnumbers;}\loch\af3\dbch\af0\hich\f3 \f3\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5040\jclisttab\tx5040\lin5040 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567619\'01o;}{\levelnumbers;}\f2\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li5760\jclisttab\tx5760\lin5760 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\leveltext\leveltemplateid67567621\'01\u-3929 _;}{\levelnumbers;}\f14\chbrdr\brdrnone\brdrcf1 \chshdng0\chcfpat1\chcbpat1\fbias0 \fi-360\li6480\jclisttab\tx6480\lin6480 }{\listname ;}\listid2021546873}}{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid-126\listoverridecount0\ls2}{\listoverride\listid-127\listoverridecount0\ls3}{\listoverride\listid-128\listoverridecount0\ls4}{\listoverride\listid-227\listoverridecount0\ls5}{\listoverride\listid983970572\listoverridecount0\ls6}{\listoverride\listid2021546873\listoverridecount0\ls7}{\listoverride\listid72552234\listoverridecount0\ls8}}{\*\rsidtbl \rsid11283295}{\info{\operator Office 2004 Test Drive-Benutzer}{\creatim\yr2007\mo5\dy11\hr14\min29}{\revtim\yr2007\mo5\dy15\hr11\min2}{\printim\yr2113\mo1\dy1}{\version3}{\edmins0}{\nofpages7}{\nofwords1680}{\nofchars9579}{\nofcharsws11763}{\vern24971}}\paperw11900\paperh16840\margl1440\margr1440 \ftnbj\aenddoc\hyphhotz425\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\horzdoc\dgmargin\dghspace120\dgvspace120\dghorigin1440\dgvorigin1440\dghshow0\dgvshow3\jcompress\viewkind1\viewscale167\viewzk2\nolnhtadjtbl\rsidroot11283295 \fet0\sectd \sbknone\linex0\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \s1\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel0\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\fs28\insrsid11283295 \par }\pard\plain \ql \li0\ri0\nowidctlpar\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\fs36\insrsid11283295 Talia Core System\par }\pard \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 {\fs36\insrsid11283295 Functional Specifications}{\insrsid11283295 \par \par Author and Maintainer: Daniel Hahn\par \par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Introduction}{\i\insrsid11283295 \par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 This document is by no means complete. If you have corrections, additions or ideas, please email the author.\par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Usage Scenarios}{\i\insrsid11283295 \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Scenario 1: Creating a new library\par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\f25\insrsid11283295 Lily the librarian has an idea for a new digital library on mystery books and\par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 crime novels. She makes a little drawing of all the types of data in her library,}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 and how they can be linked with each other. She shows this drawing to Carlos,}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 her web administrat\hich\af5\dbch\af0\loch\f25 or. Carlos creates a new Rails application and installs the}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 TaliaCore plugin. He then extends the TaliaCore classes to create a new digital}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 library definition (DLD).}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 We need to check how the initial database schema is created! (Maybe}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 a migration that is in\hich\af5\dbch\af0\loch\f25 stalled with the plugin?)}{\insrsid11283295 \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Scenario 2: Extending a library\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Nothing here yet\par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 General Notes}{\i\insrsid11283295 \par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\f25\insrsid11283295 To modify a library definition, the author has to write Rails model classes, like\par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 one does for ActiveRecord-based applications, for example.}{\insrsid11283295 \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Element types\par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\f25\insrsid11283295 There are three main types of elements in the TaliaCore:\par }{\insrsid11283295 \par {\listtext\pard\plain\s15 \f24\fs18\lang2057\langfe1031\langnp2057\insrsid11283295 \loch\af24\dbch\af0\hich\f24 \u9679\'5f\tab}}\pard\plain \s15\ql \fi-360\li720\ri0\sa120\nowidctlpar\faauto\ls1\rin0\lin720\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\b\insrsid11283295 Source classes}{\insrsid11283295  These define the different types of data in the library. For example, in Lily\rquote s library, there may be a source type for crime novels, and one for mystery books. The source classes also describe what types of relations are valid for a given type of source.\par {\listtext\pard\plain\s15 \f24\fs18\lang2057\langfe1031\langnp2057\insrsid11283295 \loch\af24\dbch\af0\hich\f24 \u9679\'5f\tab}}{\b\insrsid11283295 Relationship classes}{\insrsid11283295  These are classes that describe an actual between two Source objects. They may be used to provide additional functionality to the objects at the \rdblquote Endpoints\rdblquote  of a relation.\par {\listtext\pard\plain\s15 \f24\fs18\lang2057\langfe1031\langnp2057\insrsid11283295 \loch\af24\dbch\af0\hich\f24 \u9679\'5f\tab}}{\b\insrsid11283295 Source relationship}{\insrsid11283295  (RelatesAs) classes. These are can define a common set of possible relations, that can be applied to multiple source types. For example, there could be a RelatesAs type of \ldblquote Citation\rdblquote , and all of the source with this RelatesAs type would support a common set of relations. (Yes, this works a bit like inheritance)\par }\pard \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 {\insrsid11283295 Using the RelatesAs types adds a bit of complexity to the syntax, but it will be a powerful mechanism to group Source types that share common sets of relations.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Storage\par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\f25\insrsid11283295 The Source and Relation are similar to Rails\rquote  ActiveRecord in that they can be stored in an underlying storage system. Other than ActiveRecord, however, this storage is schema-agnostic: Once the initial database schema is set up, new types can be created and stored without further changes to the database layout.\par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 The actual definition of the database types and relations exists only in code,}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 it cannot be deduced from the database itself.}{\insrsid11283295 \par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Starting a new library}{\i\insrsid11283295 \par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\f25\insrsid11283295 Carlos creates the new library definition from Lily\rquote s sketch. He has determined that there will be two main classes of books: Crime novels and mystery books. Lily also wants to store all the fictional characters in the database, as well as references to the pages where they first appeared and where they were killed. Carlos deduces that the main element in the database will be a book; crime novels and mystery books will be special cases of that. Since Lily wants to relate to specific pages in a book, these must also be stored in the database. Finally the fictional characters must be in the database. \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 This means there are will be three main types: Book, Page and Character.}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 Books and Pages are related with some page of relation, while characters and}{\insrsid11283295 \par }{\loch\af25\insrsid11283295 \hich\af5\dbch\af0\loch\f25 pages are related with a appeared in or killed in relation.}{\insrsid11283295 \par }{\fs36\insrsid11283295 \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Defining possible relations\par }\pard\plain \ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 We first create the source classes. We need to express that there will be a }{\cs22\f2\insrsid11283295 Book }{\insrsid11283295 class that can be related to pages, and a Character class, that will also relate to pages.\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 \par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 # Book class\par class Book < TaliaCore::Source\par \tab relates_to :page, :page_of\par end\par \par # Page\par class Page < TaliaCore::Source\par \tab # the following statements are COMPLETELY OPTIONAL\par \tab relates_from :book, :page_of\par \tab relates_from :character, :killed_on\par \tab relates_from :character, :appeared_on\par end\par \par # Character\par class Character < TaliaCore::Source\par \tab {\*\bkmkstart OLE_LINK1}{\*\bkmkstart OLE_LINK2}relates_to :page, :killed_on\par \tab relates_to :page, :appeared_on\par {\*\bkmkend OLE_LINK1}{\*\bkmkend OLE_LINK2}end\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Note that the Page class doesn't need to contain any definition about the possible relations. The relates_from clauses can be inserted to make the connections, but they are completely optional. If they\rquote re missing, the \ldblquote backwards\rdblquote  relations to the Character and Source classes are created automatically.\par In the second step, we have to define the possible types of relations between the elements:\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 # page_of relation\par class PageOfRelation < TaliaCore::Relation\par \tab startpoint :single, :accessor => \ldblquote pages\rdblquote \par \tab endpoint :multiple, :accessor => \ldblquote book\rdblquote \par end\par \par # killed_in\par class KilledInRelation < TaliaCore::Relation\par \tab startpoint :single, :accessor => \ldblquote killed_on\rdblquote \par \tab endpoint :multiple, :accessor => \ldblquote character_deaths\rdblquote \par end\par \par # appeared_in\par class AppearedInRelation < TaliaCore::Relation\par \tab startpoint :single, :accessor => \ldblquote appeared_on\rdblquote \par \tab endpoint :multiple, :accessor => \ldblquote character_appearances\rdblquote \par end\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 The relations themselves specify the cardinality of the respective endpoints. The Source type where the relation is declared is the \ldblquote start\rdblquote  type, while the source type that the relation connects to is the \ldblquote end\rdblquote  type.\par The Relation classes can also name accessors for the related elements. For example, in our case you could access the pages of a book with book.pages.\par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0\pararsid11283295 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295 Changing the library\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 After Lily sees the initial library definition, she notices two problems: \par First, Carlos didn\rquote t make any special Source types for crime novels and and mystery books. \par And second, Lily notes that she also wants to include pet animals. They are not characters, but they can still appear and die, and a particular character may own them.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Different types of books\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Carlos decides that the easiest way to have multiple classes of books is to simply subclass the existing Book class. This would look like:\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 class MysteryBook < Book\par end\par class CrimeNovel < Book\par end\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Nothing more is required. The way Ruby\rquote s inheritance works, the new classes inherit all the functionality from the base class; this includes the behaviour that was added at runtime.\par Since they are subclasses, they can be used everywhere where a Book object is required, for example a }{\f2\insrsid11283295\charrsid11283295 relates_to :book, :any }{\insrsid11283295\charrsid11283295 would also allow CrimeNovel and MysteryBook. \par There will still be a generic Book type, though: You will be able to create objects from the Book class directly, which will not be a CrimeNovel nor a MysteryBook.\par Carlos also knows that inheritance would also work on the other parts of the TaliaCore module, but he has no need for that right now.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Pets with RelatesAs\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Carlos could also try to use subclassing for the pets, but it doesn\rquote t really make sense. Pets and characters are completely different, and they don\rquote t really have anything in common - except that they can appear and die in books.\par Carlos figures that it would be a good idea if he could tell the Character and the Pet class that they can both appear and die in the same way. And luckily he knows about the RelatesAs class.\par A RelatesAs class defines a group of possible relations, that can be shared by multiple source types.\par For example, Carlos could create a class like this for the Pets and Characters:\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 class RelatesAsKillableActor < TaliaCore::RelatesAs\par \tab }{\insrsid11283295 relates_to :page, :killed_on\par \tab relates_to :page, :appeared_on\par end\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 As you can see, the relates_to statements are exactly the same as in the original Character class. Carlos then rewrites the Character class\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 class Character < TaliaCore::Source\par \tab relates_as :killable_actor\par end \par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 After these changes, the Character class will still behave in exactly the same way as before. It inherits all the relates_to statements from RelatesAsKillableActor. \par However, Carlos can now easily create a Pet class, which behaves in the same way:\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 class Pet < TaliaCore::Source\par \tab relates_as :killable_actor\par \tab relates_to :character, :owned_by \par end\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This means that a pet can appear and die just like a character, but it can have one additional relation: It can be owned by a character.\par Since Carlos has created the optional \ldblquote backlinks\rdblquote  in the Page class, he has to check them. The statement\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_from :character, :killed_on\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 just doesn\rquote t make sense any more. Instead, the Page class can be related to from any class that behaves in the same way as the Character and the Pet:\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_from :killable_actor, :killed_on\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This is another property of the RelatesAs classes: They can be used as a type for relationships. In the example above, the relation would be defined for all the Source types that inherit relations from RelatesAsKillableActor.\par By using the RelatesAs mechanism, you can add a common \ldblquote supertype\rdblquote  to source classes. They will inherit the \ldblquote relations\rdblquote  and be part of a common type. However, the  Source types do not need to have a common superclass, and they don\rquote t share any code except the functions provided by the common relations.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Inheritance vs. RelatesAs\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Superficially, RelatesAs and code inheritance can look like similar things. However, in many cases the RelatesAs mechanism should be preferred:\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}}\pard \s15\ql \fi-360\li720\ri0\sa120\nowidctlpar\jclisttab\tx720\faauto\ls6\rin0\lin720\itap0\pararsid11283295 {\insrsid11283295\charrsid11283295 RelatesAs classes are like abstract types. You can\rquote t create a source object with a type of RelatesAsKillableActor\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}A source class can have only one superclass, but it can be part of any number of RelatesAs types.\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}You don\rquote t have to force your inheritance hierarchy around the possible relations.\par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0\pararsid11283295 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Syntax Guide\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This section gives an overview over the syntax that can be used to define the digital library.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Name-building rules\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 In the examples above, we referred to types and classes by Ruby symbols. The rules for the \ldblquote translation\rdblquote  are actually quite simple:\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}}\pard \s15\ql \fi-360\li720\ri0\sa120\nowidctlpar\jclisttab\tx720\faauto\ls7\rin0\lin720\itap0\pararsid11283295 {\insrsid11283295\charrsid11283295 The class names are translated from CamelCase to underline_separators. For example, BookOfThings becomes book_of_things\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}The Symbols for Source classes is just the corresponding class name.\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}Relation classes should be named <Somename>Relation. The corresponding Symbol is the one without the \ldblquote Relation\rdblquote  part. For example, SomeThingRelation becomes :some_thing\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}RelatesAs classes should be named RelatesAs<Somename>. The corresponding Symbol leaves out the \ldblquote RelatesAs\rdblquote  prefix. For example, RelatesAsSomeType becomes :some_type \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 In the Source classes\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_as <relate_type>\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 The <relate_type> is a symbold identifying a RelatesAs class. The Source class will inherit all the relates_to and relates_from definitions from that type.\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_to/relates_from\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 These statements can be used in the same way as in the RelatesAs classes.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 In the Relation classes\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\cs22\insrsid11283295\charrsid11283295 startpoint <cardinality>, <options> / endpoint <card>, <opts>\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 These statements define the \ldblquote start\rdblquote  and \ldblquote end\rdblquote  point of the relation. The first parameter is a symbol defining the cardinality of the relation endpoint. The symbol can either be :single or :multiple.\par The second parameter is an optional hash of options, written in the => notation. The currently, the only option is :accessor, which allows you to define the name of an accessor method for that end point.  \par If the statements are missing, the endpoints will have a cardinality of :multiple\par Example: startpoint :multiple, :accessor => \ldblquote something\rdblquote \par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 add_to_startpoint <name>, <&block> / add_to_endpoint <name>, <&block>\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 These statements allow to add additional methods to the start and endpoint. The first parameter is a method name, and the second is a code block that is used as the method body. \par The methods are added to the Source classes that can be start- or endpoints.\par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 In the RelatesAs classes\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_to <type>, <relation>\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This statement can be used in RelatesAs and in Source classes. It defines a possible relation between two source types. The first parameter identifies either a Source type, or a RelatesAs type which is the endpoint of the possible relation. (The current type is the start point, of course. \par The second parameter describes the Relation class that will be used for the relation.\par This statement has the following effect: Relations of the indicated type will be possible between the current type and the target type. Also, the given Relation class will add all the accessors and other methods to the Source classes of the start and end type.\par Both the <type> and the <relation> parameter may be the symbol :any. In this case, all types of Sources and/or Relations will be allowed. (The functionality will be added to the respective base classes).\par }\pard\plain \s20\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f2\fs20\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 relates_from <type>, <relation>\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This statement exists only so that one can describe the \ldblquote backward\rdblquote  relation in the source code. If this statement misses, the \ldblquote backward\rdblquote  relation will be created automatically. \par However, if it is present, the system will assert that the corresponding relates_to statement exists and is correct. The system may also issue a warning, if relates_from is used for some relations, but not for others. \par }\pard\plain \s3\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel2\rin0\lin0\itap0\pararsid11283295 \b\f1\fs28\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Notes about :any\par }\pard\plain \s15\ql \li0\ri0\sa120\nowidctlpar\faauto\rin0\lin0\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 The above definition only allows for relations to :any, but not from :any to :any. These will probably not be used very often. However, for those to work you would have to re-open the base class, and add the relates_from statement directly to it.\par relates_from statements for relations to :any could also be added to the base class; in most cases it\rquote s probably not worth the bother, though.\par \par }\pard\plain \s2\ql \li0\ri0\sb240\sa120\keepn\nowidctlpar\faauto\outlinelevel1\rin0\lin0\itap0\pararsid11283295 \b\f1\fs32\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 Known Problems/Still missing\par {\listtext\pard\plain\s15 \f3\lang2057\langfe1031\langnp2057\insrsid11283295\charrsid11283295 \loch\af3\dbch\af0\hich\f3 \u-3913\'b7\tab}}\pard\plain \s15\ql \fi-360\li720\ri0\sa120\nowidctlpar\jclisttab\tx720\faauto\ls8\rin0\lin720\itap0\pararsid11283295 \f5\lang2057\langfe1031\cgrid\langnp2057\langfenp1031 {\insrsid11283295\charrsid11283295 This spec still misses the definition for the Source data\par }}